labs(title = "Migration policy changes affected daily shelter arrivals in 2021",
color = element_blank(),
x = element_blank(),
y = "Daily Shelter Arrivals") +
theme(legend.position = "top", legend.justification = -1) +
scale_color_colorblind() +
scale_x_date(date_breaks="1 month",
date_labels="%b",
expand = c(.02,-.02))
# visualize policy changes & 7-day-rolling mean of daily arrivals
arrival_counts  %>%
ggplot(aes(x = date,
y = n,
label = description)) +
geom_line(aes(y = seven_avg),
color = 'darkgrey', size = .8) +
geom_vline(data = key_policy_events,
aes(xintercept = date,
color = category),
na.rm = TRUE,
size = .75) +
labs(title = "Migration policy changes affected daily shelter arrivals in 2021",
color = element_blank(),
x = element_blank(),
y = "Daily Shelter Arrivals") +
theme(legend.position = "top", legend.justification = -.8) +
scale_color_colorblind() +
scale_x_date(date_breaks="1 month",
date_labels="%b",
expand = c(.02,-.02))
# visualize policy changes & 7-day-rolling mean of daily arrivals
arrival_counts  %>%
ggplot(aes(x = date,
y = n,
label = description)) +
geom_line(aes(y = seven_avg),
color = 'darkgrey', size = .8) +
geom_vline(data = key_policy_events,
aes(xintercept = date,
color = category),
na.rm = TRUE,
size = .75) +
labs(title = "Migration policy changes affected daily shelter arrivals in 2021",
color = element_blank(),
x = element_blank(),
y = "Daily Shelter Arrivals") +
theme(legend.position = "top", legend.justification = -.5) +
scale_color_colorblind() +
scale_x_date(date_breaks="1 month",
date_labels="%b",
expand = c(.02,-.02))
group_counts %>%
filter(country %in% some_countries) %>% # get rid of NAs!
ggplot(aes(x = arrival_date,
y = factor(country, rev(countries$country)))) +
geom_point(alpha = .1) +
geom_vline(data = key_policy_events,
aes(xintercept = date,
color = category),
na.rm = TRUE,
size = .75) +
theme(legend.position = "top", legend.justification = 0) + #, legend.direction legend.text.align = -1,
labs(title = "Migration policy shifts affected different nationalities differently",
x = element_blank(),
y = element_blank(),
color = element_blank()) +
scale_x_date(date_breaks = "1 month",
date_labels = "%b",
expand = c(.02,-.02)) +
scale_color_colorblind()
# Arrivals by country over time dot plot
some_countries <- countries$country[countries$n > 3]
group_counts %>%
filter(country %in% some_countries) %>% # get rid of NAs!
ggplot(aes(x = arrival_date,
y = factor(country, rev(countries$country)))) +
geom_point(alpha = .1) +
geom_vline(data = key_policy_events,
aes(xintercept = date,
color = category),
na.rm = TRUE,
size = .75) +
theme(legend.position = "top", legend.justification = 0) + #, legend.direction legend.text.align = -1,
labs(title = "Migration policy shifts affected different nationalities differently",
x = element_blank(),
y = element_blank(),
color = element_blank()) +
scale_x_date(date_breaks = "1 month",
date_labels = "%b",
expand = c(.02,-.02)) +
scale_color_colorblind()
group_counts %>%
filter(country %in% some_countries) %>% # get rid of NAs!
ggplot(aes(x = arrival_date,
y = factor(country, rev(countries$country)))) +
geom_point(alpha = .1) +
geom_vline(data = key_policy_events,
aes(xintercept = date,
color = category),
na.rm = TRUE,
size = .75) +
theme(legend.position = "top", legend.justification = -1) + #, legend.direction legend.text.align = -1,
labs(title = "Migration policy shifts affected different nationalities differently",
x = element_blank(),
y = element_blank(),
color = element_blank()) +
scale_x_date(date_breaks = "1 month",
date_labels = "%b",
expand = c(.02,-.02)) +
scale_color_colorblind()
group_counts %>%
filter(country %in% some_countries) %>% # get rid of NAs!
ggplot(aes(x = arrival_date,
y = factor(country, rev(countries$country)))) +
geom_point(alpha = .1) +
geom_vline(data = key_policy_events,
aes(xintercept = date,
color = category),
na.rm = TRUE,
size = .75) +
theme(legend.position = "top", legend.justification = 1.5) + #, legend.direction legend.text.align = -1,
labs(title = "Migration policy shifts affected different nationalities differently",
x = element_blank(),
y = element_blank(),
color = element_blank()) +
scale_x_date(date_breaks = "1 month",
date_labels = "%b",
expand = c(.02,-.02)) +
scale_color_colorblind()
group_counts %>%
filter(country %in% some_countries) %>% # get rid of NAs!
ggplot(aes(x = arrival_date,
y = factor(country, rev(countries$country)))) +
geom_point(alpha = .1) +
geom_vline(data = key_policy_events,
aes(xintercept = date,
color = category),
na.rm = TRUE,
size = .75) +
theme(legend.position = "top", legend.justification = 1.5, plot.title.position = "left") + #, legend.direction legend.text.align = -1,
labs(title = "Migration policy shifts affected different nationalities differently",
x = element_blank(),
y = element_blank(),
color = element_blank()) +
scale_x_date(date_breaks = "1 month",
date_labels = "%b",
expand = c(.02,-.02)) +
scale_color_colorblind()
group_counts %>%
filter(country %in% some_countries) %>% # get rid of NAs!
ggplot(aes(x = arrival_date,
y = factor(country, rev(countries$country)))) +
geom_point(alpha = .1) +
geom_vline(data = key_policy_events,
aes(xintercept = date,
color = category),
na.rm = TRUE,
size = .75) +
theme(legend.position = "top", legend.justification = 1.5, plot.title.position = "panel") + #, legend.direction legend.text.align = -1,
labs(title = "Migration policy shifts affected different nationalities differently",
x = element_blank(),
y = element_blank(),
color = element_blank()) +
scale_x_date(date_breaks = "1 month",
date_labels = "%b",
expand = c(.02,-.02)) +
scale_color_colorblind()
group_counts %>%
filter(country %in% some_countries) %>% # get rid of NAs!
ggplot(aes(x = arrival_date,
y = factor(country, rev(countries$country)))) +
geom_point(alpha = .1) +
geom_vline(data = key_policy_events,
aes(xintercept = date,
color = category),
na.rm = TRUE,
size = .75) +
theme(legend.position = "top", legend.justification = 1.5, plot.title.position = "plot") + #, legend.direction legend.text.align = -1,
labs(title = "Migration policy shifts affected different nationalities differently",
x = element_blank(),
y = element_blank(),
color = element_blank()) +
scale_x_date(date_breaks = "1 month",
date_labels = "%b",
expand = c(.02,-.02)) +
scale_color_colorblind()
group_counts %>%
ggplot(aes(x = arrival_date,
y = number_in_party)) +
geom_jitter(aes(size = number_in_party),
alpha = .1, na.rm = TRUE,
show.legend = FALSE) +
scale_x_date(date_breaks="1 month",
date_labels="%b",
expand = c(.02,-.02)) +
geom_vline(data = key_policy_events,
aes(xintercept = date,
color = category),
na.rm = TRUE,
size = .75) +
labs(title ="Migration policy shifts affected individuals and groups differently",
x = element_blank(),
y = "Group Size",
color = element_blank()) +
scale_color_colorblind() +
theme(legend.position = "top", legend.justification = -.5)
# migration policy shifts affect individuals and groups differently
# plot timeline of daily arrivals with selected policy change labels
arrival_counts  %>%
ggplot(aes(x = date,
y = n,
label = description,
color = category)) +
geom_col(fill ="grey") +
geom_line(aes(y = seven_avg),
color = 'black', size = .6) +
geom_point(data = arrival_counts %>% filter(!is.na(description)),
show.legend = FALSE) +
geom_label_repel(na.rm = TRUE,
size = 2,
show.legend = FALSE,
nudge_y = 170,
max.overlaps = 11) +
scale_x_date(date_breaks="1 month",
date_labels="%b",
expand = c(.02,-.02)) +
scale_color_colorblind() +
labs(x = element_blank(),
y = "Daily Shelter Arrivals",
title = "Migration and policy events in 2021",
subtitle = "with Casa Alitas daily arrivals")
# plot timeline of daily arrivals with selected policy change labels
arrival_counts  %>%
ggplot(aes(x = date,
y = n,
label = description,
color = category)) +
geom_col(fill ="grey", show.legend = FALSE) +
geom_line(aes(y = seven_avg),
color = 'black', size = .6) +
geom_point(data = arrival_counts %>% filter(!is.na(description)),
show.legend = FALSE) +
geom_label_repel(na.rm = TRUE,
size = 2,
show.legend = FALSE,
nudge_y = 170,
max.overlaps = 11) +
scale_x_date(date_breaks="1 month",
date_labels="%b",
expand = c(.02,-.02)) +
scale_color_colorblind() +
labs(x = element_blank(),
y = "Daily Shelter Arrivals",
title = "Migration and policy events in 2021",
subtitle = "with Casa Alitas daily arrivals")
# plot timeline of daily arrivals with selected policy change labels
arrival_counts  %>%
ggplot(aes(x = date,
y = n,
label = description,
color = category)) +
geom_col(fill ="grey", color = "grey", show.legend = FALSE) +
geom_line(aes(y = seven_avg),
color = 'black', size = .6) +
geom_point(data = arrival_counts %>% filter(!is.na(description)),
show.legend = FALSE) +
geom_label_repel(na.rm = TRUE,
size = 2,
show.legend = FALSE,
nudge_y = 170,
max.overlaps = 11) +
scale_x_date(date_breaks="1 month",
date_labels="%b",
expand = c(.02,-.02)) +
scale_color_colorblind() +
labs(x = element_blank(),
y = "Daily Shelter Arrivals",
title = "Migration and policy events in 2021",
subtitle = "with Casa Alitas daily arrivals")
# plot timeline of daily arrivals with selected policy change labels
arrival_counts  %>%
ggplot(aes(x = date,
y = n,
label = description,
color = category)) +
geom_col(fill ="grey", show.legend = FALSE) +
geom_line(aes(y = seven_avg),
color = 'black', size = .6) +
geom_point(data = arrival_counts %>% filter(!is.na(description)),
show.legend = FALSE) +
geom_label_repel(na.rm = TRUE,
size = 2,
show.legend = FALSE,
nudge_y = 170,
max.overlaps = 11) +
scale_x_date(date_breaks="1 month",
date_labels="%b",
expand = c(.02,-.02)) +
scale_color_colorblind() +
labs(x = element_blank(),
y = "Daily Shelter Arrivals",
title = "Migration and policy events in 2021",
subtitle = "with Casa Alitas daily arrivals")
# plot timeline of daily arrivals with selected policy change labels
arrival_counts  %>%
ggplot(aes(x = date,
y = n,
label = description,
color = category)) +
geom_col(fill ="grey", show.legend = FALSE) +
geom_line(aes(y = seven_avg),
color = 'black', size = .6) +
geom_label_repel(na.rm = TRUE,
size = 2,
show.legend = FALSE,
nudge_y = 170,
max.overlaps = 11) +
scale_x_date(date_breaks="1 month",
date_labels="%b",
expand = c(.02,-.02)) +
scale_color_colorblind() +
labs(x = element_blank(),
y = "Daily Shelter Arrivals",
title = "Migration and policy events in 2021",
subtitle = "with Casa Alitas daily arrivals")
# plot timeline of daily arrivals with selected policy change labels
arrival_counts  %>%
ggplot(aes(x = date,
y = n,
label = description)) +
geom_col(fill ="grey", show.legend = FALSE) +
geom_line(aes(y = seven_avg),
color = 'black', size = .6) +
geom_label_repel(aes(color = category),
na.rm = TRUE,
size = 2,
show.legend = FALSE,
nudge_y = 170,
max.overlaps = 11) +
scale_x_date(date_breaks="1 month",
date_labels="%b",
expand = c(.02,-.02)) +
scale_color_colorblind() +
labs(x = element_blank(),
y = "Daily Shelter Arrivals",
title = "Migration and policy events in 2021",
subtitle = "with Casa Alitas daily arrivals")
# plot timeline of daily arrivals with selected policy change labels
arrival_counts  %>%
ggplot(aes(x = date,
y = n,
label = description)) +
geom_col(fill ="grey", show.legend = FALSE) +
geom_line(aes(y = seven_avg),
color = 'black', size = .6) +
geom_label_repel(aes(color = category),
na.rm = TRUE,
size = 2,
show.legend = FALSE,
nudge_y = 170,
max.overlaps = 11) +
geom_point(data = arrival_counts %>% filter(!is.na(description)),
show.legend = FALSE) +
scale_x_date(date_breaks="1 month",
date_labels="%b",
expand = c(.02,-.02)) +
scale_color_colorblind() +
labs(x = element_blank(),
y = "Daily Shelter Arrivals",
title = "Migration and policy events in 2021",
subtitle = "with Casa Alitas daily arrivals")
# plot timeline of daily arrivals with selected policy change labels
arrival_counts  %>%
ggplot(aes(x = date,
y = n,
label = description)) +
geom_col(fill ="grey", show.legend = FALSE) +
geom_line(aes(y = seven_avg),
color = 'black', size = .6) +
geom_label_repel(aes(color = category),
na.rm = TRUE,
size = 2,
show.legend = FALSE,
nudge_y = 170,
max.overlaps = 11) +
geom_point(aes(color = category),
data = arrival_counts %>% filter(!is.na(description)),
show.legend = FALSE) +
scale_x_date(date_breaks="1 month",
date_labels="%b",
expand = c(.02,-.02)) +
scale_color_colorblind() +
labs(x = element_blank(),
y = "Daily Shelter Arrivals",
title = "Migration and policy events in 2021",
subtitle = "with Casa Alitas daily arrivals")
group_counts %>%
filter(country %in% some_countries) %>% # get rid of NAs!
ggplot(aes(x = arrival_date,
y = factor(country, rev(countries$country)))) +
geom_point(alpha = .1) +
geom_vline(data = key_policy_events,
aes(xintercept = date,
color = category),
na.rm = TRUE,
size = .75) +
theme(legend.position = "top", legend.justification = 1.5, plot.title.position = "legend") + #, legend.direction legend.text.align = -1,
labs(title = "Migration policy shifts affected different nationalities differently",
x = element_blank(),
y = element_blank(),
color = element_blank()) +
scale_x_date(date_breaks = "1 month",
date_labels = "%b",
expand = c(.02,-.02)) +
scale_color_colorblind()
group_counts %>%
filter(country %in% some_countries) %>% # get rid of NAs!
ggplot(aes(x = arrival_date,
y = factor(country, rev(countries$country)))) +
geom_point(alpha = .1) +
geom_vline(data = key_policy_events,
aes(xintercept = date,
color = category),
na.rm = TRUE,
size = .75) +
theme(legend.position = "top", legend.justification = 1.5, plot.title.position = "box") + #, legend.direction legend.text.align = -1,
labs(title = "Migration policy shifts affected different nationalities differently",
x = element_blank(),
y = element_blank(),
color = element_blank()) +
scale_x_date(date_breaks = "1 month",
date_labels = "%b",
expand = c(.02,-.02)) +
scale_color_colorblind()
group_counts %>%
filter(country %in% some_countries) %>% # get rid of NAs!
ggplot(aes(x = arrival_date,
y = factor(country, rev(countries$country)))) +
geom_point(alpha = .1) +
geom_vline(data = key_policy_events,
aes(xintercept = date,
color = category),
na.rm = TRUE,
size = .75) +
theme(legend.position = "top", legend.justification = 1.5, plot.title.position = "plot") + #, legend.direction legend.text.align = -1,
labs(title = "Migration policy shifts affected different nationalities differently",
x = element_blank(),
y = element_blank(),
color = element_blank()) +
scale_x_date(date_breaks = "1 month",
date_labels = "%b",
expand = c(.02,-.02)) +
scale_color_colorblind()
group_counts %>%
filter(country %in% some_countries) %>% # get rid of NAs!
ggplot(aes(x = arrival_date,
y = factor(country, rev(countries$country)))) +
geom_point(alpha = .1) +
geom_vline(data = key_policy_events,
aes(xintercept = date,
color = category),
na.rm = TRUE,
size = .75) +
theme(legend.position = "top", legend.justification = 1.5) + #, legend.direction legend.text.align = -1,
labs(title = "Migration policy shifts affected different nationalities differently",
x = element_blank(),
y = element_blank(),
color = element_blank()) +
scale_x_date(date_breaks = "1 month",
date_labels = "%b",
expand = c(.02,-.02)) +
scale_color_colorblind()
group_counts %>%
ggplot(aes(x = arrival_date,
y = number_in_party)) +
geom_jitter(aes(size = number_in_party),
alpha = .1, na.rm = TRUE,
show.legend = FALSE) +
scale_x_date(date_breaks="1 month",
date_labels="%b",
expand = c(.02,-.05)) +
geom_vline(data = key_policy_events,
aes(xintercept = date,
color = category),
na.rm = TRUE,
size = .75) +
labs(title ="Migration policy shifts affected individuals and groups differently",
x = element_blank(),
y = "Group Size",
color = element_blank()) +
scale_color_colorblind() +
theme(legend.position = "top", legend.justification = -.5)
group_counts %>%
ggplot(aes(x = arrival_date,
y = number_in_party)) +
geom_jitter(aes(size = number_in_party),
alpha = .1, na.rm = TRUE,
show.legend = FALSE) +
scale_x_date(date_breaks="1 month",
date_labels="%b",
expand = c(.02,-.5)) +
geom_vline(data = key_policy_events,
aes(xintercept = date,
color = category),
na.rm = TRUE,
size = .75) +
labs(title ="Migration policy shifts affected individuals and groups differently",
x = element_blank(),
y = "Group Size",
color = element_blank()) +
scale_color_colorblind() +
theme(legend.position = "top", legend.justification = -.5)
